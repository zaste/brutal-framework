const cache=new WeakMap;function html(e,...n){return{strings:e,values:n,t:cache.get(e)||cache.set(e,1)}}const rendered=new WeakMap;function render(e,n=document.body){let r="";const{strings:t,values:c}=e;for(let e=0;e<t.length;e++)if(r+=t[e],e<c.length){const n=c[e];t[e].endsWith("on")&&t[e+1]?.startsWith("=")?r+="brutal-e"+e:Array.isArray(n)?r+=n.map(e=>e&&e.strings?render(e,document.createElement("div")).innerHTML:e).join(""):n&&n.strings?r+=render(n,document.createElement("div")).innerHTML:r+=n??""}const u=document.createElement("div");u.innerHTML=r,u.querySelectorAll("[*|brutal-e]").forEach(e=>{Array.from(e.attributes).forEach(n=>{const r=n.name.match(/on(\w+)brutal-e(\d+)/);if(r){const[,t,u]=r;e.removeAttribute(n.name),e.addEventListener(t,c[+u])}})});const o=u.firstElementChild||u;return n.parentNode?n.parentNode.replaceChild(o,n):(n.innerHTML="",n.appendChild(o)),o}function query(e,n){return(n||document).querySelector(e)}function queryAll(e,n){return Array.from((n||document).querySelectorAll(e))}export{html,render,query,queryAll};