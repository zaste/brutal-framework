<!DOCTYPE html>
<html>
<head>
    <title>Quick NavigationBar Test</title>
    <style>
        body { margin: 0; font-family: system-ui; min-height: 200vh; background: #f5f5f5; }
        .content { padding: 100px 20px; max-width: 1200px; margin: 0 auto; }
        .status { background: white; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .success { color: green; }
        .error { color: red; }
    </style>
</head>
<body>
    <brutal-navbar 
        brand="BRUTAL V3 Framework"
        sticky="true"
        items='[
            {"label": "Home", "href": "/"},
            {"label": "Components", "href": "/components"},
            {"label": "Docs", "href": "/docs"},
            {"label": "GitHub", "href": "https://github.com"}
        ]'>
    </brutal-navbar>
    
    <div class="content">
        <h1>NavigationBar Component Test</h1>
        
        <div class="status" id="status">
            <h2>Component Status:</h2>
        </div>
        
        <h2>Test Instructions:</h2>
        <ol>
            <li>Scroll down to see sticky behavior</li>
            <li>Resize window to see mobile menu</li>
            <li>Click mobile toggle to open/close menu</li>
            <li>Check console for any errors</li>
        </ol>
        
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
        <p>Scroll down to test sticky navigation...</p>
        
        <div style="height: 1500px; background: linear-gradient(to bottom, #f0f0f0, #e0e0e0);"></div>
    </div>
    
    <script type="module">
        const status = document.getElementById('status');
        
        // Import and test
        import('./index.js').then(() => {
            const navbar = document.querySelector('brutal-navbar');
            
            setTimeout(() => {
                if (navbar && navbar.shadowRoot) {
                    status.innerHTML += '<p class="success">✅ NavigationBar loaded successfully!</p>';
                    status.innerHTML += '<p>Shadow DOM: ' + (navbar.shadowRoot ? 'Yes' : 'No') + '</p>';
                    
                    // Check internal elements
                    const nav = navbar.shadowRoot.querySelector('.brutal-navbar');
                    const brand = navbar.shadowRoot.querySelector('.navbar-brand');
                    const menu = navbar.shadowRoot.querySelector('.navbar-menu');
                    
                    status.innerHTML += '<p>Internal elements found:</p>';
                    status.innerHTML += '<ul>';
                    status.innerHTML += '<li>Navigation: ' + (nav ? '✅' : '❌') + '</li>';
                    status.innerHTML += '<li>Brand: ' + (brand ? '✅' : '❌') + '</li>';
                    status.innerHTML += '<li>Menu: ' + (menu ? '✅' : '❌') + '</li>';
                    status.innerHTML += '</ul>';
                    
                    // Test scroll
                    window.scrollTo(0, 100);
                    setTimeout(() => {
                        const isScrolled = nav && nav.classList.contains('scrolled');
                        status.innerHTML += '<p>Scroll detection: ' + (isScrolled ? '✅ Working' : '❌ Not working') + '</p>';
                        window.scrollTo(0, 0);
                    }, 500);
                    
                } else {
                    status.innerHTML += '<p class="error">❌ NavigationBar failed to load</p>';
                }
            }, 1000);
            
        }).catch(error => {
            status.innerHTML += '<p class="error">❌ Import error: ' + error.message + '</p>';
        });
        
        // Log any errors
        window.addEventListener('error', (e) => {
            status.innerHTML += '<p class="error">❌ Error: ' + e.message + '</p>';
        });
    </script>
</body>
</html>