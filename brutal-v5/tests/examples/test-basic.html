<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BRUTAL V5 - Basic Test</title>
</head>
<body>
  <h1>BRUTAL V5 - Basic Test</h1>
  
  <div id="app"></div>
  
  <script type="module">
    // Test imports from packages directly
    import { registry, configLoader } from '../packages/@brutal/foundation/src/index.js';
    import { BrutalError, sanitizeHTML } from '../packages/@brutal/shared/src/index.js';
    import { EventEmitter } from '../packages/@brutal/events/src/index.js';
    import { BrutalComponent } from '../packages/@brutal/components/src/index.js';
    import { createStore } from '../packages/@brutal/state/src/index.js';
    
    console.log('üß™ Testing BRUTAL V5...');
    
    // Test 1: Foundation
    console.log('\n1Ô∏è‚É£ Foundation:');
    registry.register('@brutal/test', '1.0.0');
    console.log('‚úÖ Registry:', registry.list());
    
    configLoader.load({ debug: true });
    console.log('‚úÖ Config:', configLoader.get('debug'));
    
    // Test 2: Shared utilities
    console.log('\n2Ô∏è‚É£ Shared:');
    const dirty = '<script>alert("xss")</script>';
    console.log('‚úÖ Sanitized:', sanitizeHTML(dirty));
    
    const error = new BrutalError('Test error', 'TEST_001');
    console.log('‚úÖ Error:', error.message, error.code);
    
    // Test 3: Events
    console.log('\n3Ô∏è‚É£ Events:');
    const emitter = new EventEmitter();
    emitter.on('test', (data) => console.log('‚úÖ Event received:', data));
    emitter.emit('test', { message: 'Hello BRUTAL!' });
    
    // Test 4: State
    console.log('\n4Ô∏è‚É£ State:');
    const store = createStore({ count: 0 });
    store.subscribe(state => console.log('‚úÖ State changed:', state));
    store.setState({ count: 1 });
    
    // Test 5: Components
    console.log('\n5Ô∏è‚É£ Components:');
    class TestComponent extends BrutalComponent {
      constructor() {
        super();
        console.log('‚úÖ Component created');
      }
      
      init() {
        console.log('‚úÖ Component initialized');
        this.render();
      }
      
      render() {
        this.innerHTML = '<p>BRUTAL Component Rendered!</p>';
        console.log('‚úÖ Component rendered');
      }
    }
    
    // Register and use component
    customElements.define('test-component', TestComponent);
    const component = document.createElement('test-component');
    document.getElementById('app').appendChild(component);
    
    console.log('\n‚ú® All tests completed!');
  </script>
</body>
</html>